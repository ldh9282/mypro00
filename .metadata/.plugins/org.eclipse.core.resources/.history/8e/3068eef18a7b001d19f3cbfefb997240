<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
<%@ taglib uri="http://java.sun.com/jsp/jstl/fmt" prefix="fmt"%>
<%@ taglib uri="http://www.springframework.org/security/tags" prefix="sec" %>


<c:set var="contextPath" value="${pageContext.request.contextPath}"></c:set>
<%@ include file="../myinclude/myheader.jsp" %>

<div id="page-wrapper">

	<div class="row">
		<div class="col-lg-12">
			<h3 class="page-header">Welcome, My Home World!!!</h3>
		</div>
	</div>
	
	<div class="row">
		<div class="col-lg-12">
		
			<h3 class="page-header">
				<sec:authentication var="principal" property="principal"  />
				<c:choose>
					<c:when test="${principal eq 'anonymousUser' }">
						<span>anonymousUser</span>
					</c:when>
					<c:otherwise>
						<span>${principal.username}</span>
						<hr>
						<span>principal: ${principal}</span>
						<hr>
						<span>authentication: ${authentication}</span>
						<hr>
						
					</c:otherwise>
				</c:choose>
			</h3>
			
		</div>
	</div>
	
	<p>
		<strong>${serverTime}</strong>
	</p>
</div>
<%-- /.page-wrapper --%>
<script type="text/javascript">

var principal = '${principal}';
var username = '${principal.username}';
var authorities = '${principal.authorities}';
</script>
